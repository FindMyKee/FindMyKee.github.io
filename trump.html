<!DOCTYPE HTML>
<!--
	Spectral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>Find My Kee</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>

<body class="landing">

    <!-- Page Wrapper -->
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header" class="alt">
            <h1><a href="index.html">Find My Kee</a></h1>
            <nav id="nav">
                <ul>
                    <li class="special">
                        <a href="#menu" class="menuToggle"><span>Menu</span></a>
                        <div id="menu">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="allItems.html">Our Products</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>


        <div class="corner-ribbon top-left turquoise shadow">
            <span>
                Free Shipping for
            </span>
            <span id="timer">

            </span>
        </div>

        <!-- Main -->
        <article id="main">
            <header>
                <h2>Purchase Trump 2020 Kee:</h2>
            </header>
            <section class="wrapper style5">


                <!-- Content -->
                <section id="content">
                    <div style="display: flex; justify-content: center">
                        <div>
                            <input readonly
                                style="text-align:center; background: white; font-weight:bold; font-size:25px;"
                                name="itemname" type="text" value='Trump 2020 Kee' />
                            <div style="display: flex; justify-content: center">
                                <img height="200px;" src="images/trump.JPG">
                            </div>
                            <div style="display:flex; justify-content: center">
                                <span>Quantity: </span>
                                <input id="quant" style="margin-left:10px; width:100px; color:black" type="number"
                                    value="1" onchange="quantChanged()" />
                            </div>
                            <div style="display:flex; justify-content: center">
                                <input readonly name="itemcost" id="itemcost"
                                    style="width:30%; min-width: 150px; float:left; background: white; color: green; font-size:20px; "
                                    type="text" value="$14.99" />
                            </div>
                            <div class='image' style="display: flex; justify-content: center; margin-top:20px;">
                                <!-- Create a button that your customers click to complete their purchase. Customize the styling to suit your branding. -->
                                <button
                                    style="background-color:#6772E5;color:#FFF;padding:8px 12px;border:0;border-radius:4px;font-size:1em"
                                    id="checkout-button-sku_FsOCC8UBrEDvo6" role="link">
                                    Checkout
                                </button>

                                <div id="error-message"></div>
                            </div>
                        </div>
                    </div>



                    <!--<hr style="border: dashed 3px;" /> -->
                </section>

            </section>
        </article>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="mailto:koolseth28@gmail.com" class="icon solid fa-envelope"><span
                            class="label">Email</span></a></li>
            </ul>
            <ul class="copyright">
                <li>&copy; 2019. Seth Kitchen. </li>
                <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </footer>

    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <!-- Load Stripe.js on your website. -->
    <script src="https://js.stripe.com/v3"></script>
    <script>

        (function () {
            var stripe = Stripe('pk_live_FumJoOhlsyEJ7PiO9kffN1jI');

            var checkoutButton = document.getElementById('checkout-button-sku_FsOCC8UBrEDvo6');
            checkoutButton.addEventListener('click', function () {
                // When the customer clicks on the button, redirect
                // them to Checkout.
                stripe.redirectToCheckout({
                    items: [{ sku: 'sku_FsOCC8UBrEDvo6', quantity: parseInt(document.getElementById("quant").value) }],

                    // Do not rely on the redirect to the successUrl for fulfilling
                    // purchases, customers may not always reach the success_url after
                    // a successful payment.
                    // Instead use one of the strategies described in
                    // https://stripe.com/docs/payments/checkout/fulfillment
                    successUrl: 'https://www.findmykee.com/success.html',
                    cancelUrl: 'https://www.findmykee.com/',
                })
                    .then(function (result) {
                        if (result.error) {
                            // If `redirectToCheckout` fails due to a browser or network
                            // error, display the localized error message to your customer.
                            var displayError = document.getElementById('error-message');
                            displayError.textContent = result.error.message;
                        }
                    });
            });
        })();

        function quantChanged() {
            window.location = "trump.html?quant=" + document.getElementById("quant").value;
        }

        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            console.log(urlParams);
            const myParam = urlParams.get('quant');
            console.log(myParam);
            if (myParam != null) {
                document.getElementById("quant").value = myParam;
                document.getElementById("itemcost").value = "$" + parseInt(myParam) * 14.99;
            }
            ribbon = document.getElementById("timer");
            var today = new Date();
            var tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);
            freeShipTime = tomorrow;
            setInterval(updateRibbon, 1000);
        }

        var ribbon;
        var freeShipTime;


        function updateRibbon() {
            // get total seconds between the times
            var delta = Math.abs(freeShipTime - new Date()) / 1000;

            // calculate (and subtract) whole days
            var days = Math.floor(delta / 86400);
            delta -= days * 86400;

            // calculate (and subtract) whole hours
            var hours = Math.floor(delta / 3600) % 24;
            delta -= hours * 3600;

            // calculate (and subtract) whole minutes
            var minutes = Math.floor(delta / 60) % 60;
            delta -= minutes * 60;

            // what's left is seconds
            var seconds = Math.round(delta % 60);  // in theory the modulus is not required

            ribbon.innerText = "";
            if (hours < 10) {
                ribbon.innerText += "0" + hours + ":";
            }
            else {
                ribbon.innerText += hours + ":";
            }
            if (minutes < 10) {
                ribbon.innerText += "0" + minutes + ":";
            }
            else {
                ribbon.innerText += minutes + ":";
            }
            if (seconds < 10) {
                ribbon.innerText += "0" + seconds;
            }
            else {
                ribbon.innerText += seconds;
            }
        }
    </script>

</body>

</html>